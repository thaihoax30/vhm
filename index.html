<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Khảo sát VHM</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        :root {
            --red-main: #8b0000;
            --dark-main: #111;
            --white-main: #ffffff;
        }

        /* ẨN NỘI DUNG BAN ĐẦU – KHÔNG LÀM VỠ LAYOUT */
        body {
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.2s ease;

            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: linear-gradient(180deg, #7a0000, #4d0000);
            min-height: 100vh;

            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wrapper {
            background: var(--white-main);
            width: 90%;
            max-width: 420px;
            padding: 32px 24px;
            border-radius: 14px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }

        .logo img {
            max-width: 160px;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--red-main);
            font-size: 20px;
            margin-bottom: 16px;
            text-transform: uppercase;
            line-height: 1.4;
        }

        .info-text {
            font-size: 15px;
            color: #333;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .timer-box {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 16px 12px;
        }

        .timer-label {
            font-size: 14px;
            color: #555;
            margin-bottom: 8px;
        }

        .timer {
            display: flex;
            justify-content: space-between;
            font-family: "Courier New", monospace;
        }

        .time-unit {
            flex: 1;
        }

        .time-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--red-main);
        }

        .time-text {
            font-size: 12px;
            color: #666;
        }

        @media (max-width: 480px) {
            .time-value {
                font-size: 20px;
            }
        }
    </style>

    <!-- KIỂM TRA THỜI GIAN TRƯỚC KHI HIỂN THỊ -->
    <script>
    const TARGET_TIME = new Date("2026-01-31T21:00:00+07:00").getTime();
    const REDIRECT_URL = "http://google.com";

    let serverNow = null;
    let clientStart = Date.now();

    async function getServerTime() {
        const res = await fetch(
            "https://worldtimeapi.org/api/timezone/Asia/Ho_Chi_Minh",
            { cache: "no-store" }
        );
        const data = await res.json();
        return new Date(data.datetime).getTime();
    }

    (async function init() {
        try {
            serverNow = await getServerTime();

            if (serverNow >= TARGET_TIME) {
                window.location.replace(REDIRECT_URL);
                return;
            }

            document.addEventListener("DOMContentLoaded", () => {
                document.body.style.visibility = "visible";
                document.body.style.opacity = "1";
            });

        } catch (e) {
            // fallback: nếu API lỗi → chặn truy cập
            alert("Không thể đồng bộ thời gian hệ thống. Vui lòng thử lại sau.");
        }
    })();
</script>

</head>

<body>

<div class="wrapper">
    <div class="logo">
        <img src="logo.png" alt="VHM Logo">
    </div>

    <h1>KHẢO SÁT GÓP Ý TIỆC TẤT NIÊN</h1>

    <div class="info-text">
        Thời gian thực hiện khảo sát sau 21:00, anh/chị vui lòng thực hiện khảo sát sau thời gian này.
    </div>

    <div class="timer-box">
        <div class="timer-label">Thời gian còn lại</div>

        <div class="timer">
            <div class="time-unit">
                <div class="time-value" id="hours">00</div>
                <div class="time-text">Giờ</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="minutes">00</div>
                <div class="time-text">Phút</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="seconds">00</div>
                <div class="time-text">Giây</div>
            </div>
            <div class="time-unit">
                <div class="time-value" id="centiseconds">00</div>
                <div class="time-text">1/100 giây</div>
            </div>
        </div>
    </div>
</div>

<script>
    function updateTimer() {
        if (!serverNow) return;

        const elapsed = Date.now() - clientStart;
        const currentServerTime = serverNow + elapsed;
        const diff = TARGET_TIME - currentServerTime;

        if (diff <= 0) {
            window.location.replace("http://google.com");
            return;
        }

        document.getElementById("hours").textContent =
            String(Math.floor(diff / 3600000)).padStart(2, "0");

        document.getElementById("minutes").textContent =
            String(Math.floor((diff % 3600000) / 60000)).padStart(2, "0");

        document.getElementById("seconds").textContent =
            String(Math.floor((diff % 60000) / 1000)).padStart(2, "0");

        document.getElementById("centiseconds").textContent =
            String(Math.floor((diff % 1000) / 10)).padStart(2, "0");
    }

    setInterval(updateTimer, 10);
</script>


</body>
</html>



